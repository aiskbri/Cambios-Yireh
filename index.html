<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cambios Yireh | Casa de Cambio</title>
    <style>
        :root {
            --primary: #ff6600; /* Naranja vibrante */
            --primary-dark: #cc5200;
            --white: #ffffff;
            --gray-light: #f4f4f4;
            --text-dark: #333333;
            --text-gray: #666666;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--gray-light);
            color: var(--text-dark);
        }

        /* --- HEADER --- */
        header {
            background-color: var(--white);
            padding: 1rem 5%;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .contact-header {
            text-align: right;
            font-size: 0.9rem;
        }

        .contact-header a {
            color: var(--primary);
            text-decoration: none;
            font-weight: bold;
        }

        /* --- HERO & CALCULATOR --- */
        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, #ff8c00 100%);
            color: var(--white);
            padding: 3rem 5% 6rem;
            text-align: center;
        }

        .hero h1 {
            margin-bottom: 1rem;
        }

        .calculator-container {
            max-width: 500px;
            margin: -4rem auto 2rem;
            background: var(--white);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-gray);
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
            transition: 0.3s;
        }

        input:focus, select:focus {
            border-color: var(--primary);
        }

        .conversion-result {
            background-color: #fff4e6;
            border: 1px solid var(--primary);
            color: var(--primary-dark);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            margin-top: 1rem;
        }

        .result-amount {
            font-size: 1.8rem;
            font-weight: bold;
            display: block;
        }

        .btn-whatsapp {
            display: block;
            width: 100%;
            background-color: #25D366;
            color: white;
            text-align: center;
            padding: 1rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            margin-top: 1rem;
            transition: 0.3s;
        }

        .btn-whatsapp:hover {
            background-color: #1ebc57;
        }

        /* --- ADMIN PANEL (Hidden by default) --- */
        .admin-toggle {
            text-align: center;
            margin-top: 1rem;
            cursor: pointer;
            color: var(--text-gray);
            font-size: 0.8rem;
            text-decoration: underline;
        }

        #admin-panel {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            border: 1px dashed var(--text-gray);
            background: #fafafa;
            max-height: 300px;
            overflow-y: auto;
        }

        .rate-input-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        .rate-input-group input {
            width: 100px;
            padding: 5px;
        }

        /* --- INFO SECTION --- */
        .info-section {
            padding: 2rem 5%;
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .info-card {
            background: var(--white);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border-top: 4px solid var(--primary);
        }

        .info-card h3 {
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .info-card ul {
            list-style: none;
        }

        .info-card li {
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }

        footer {
            background-color: #333;
            color: var(--white);
            text-align: center;
            padding: 2rem;
            margin-top: 2rem;
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            .hero { padding-bottom: 5rem; }
            .calculator-container { margin-top: -3rem; width: 90%; }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
            Cambios Yireh
        </div>
        <div class="contact-header">
            <div>Horario: 9 AM - 7 PM (Ven)</div>
            <a href="https://wa.me/584127769427" target="_blank">WhatsApp: +58 412-7769427</a>
        </div>
    </header>

    <section class="hero">
        <h1>Envía dinero rápido y seguro</h1>
        <p>Las mejores tasas del mercado con Cambios Yireh</p>
    </section>

    <div class="calculator-container">
        <h2 style="text-align:center; margin-bottom: 1.5rem; color: var(--primary);">Cotizar Envío</h2>
        
        <div class="form-group">
            <label>Tengo (Moneda de origen):</label>
            <select id="currency-send" onchange="updateReceivingOptions()">
                <option value="USD">Dólares (USD)</option>
                <option value="COP">Pesos Colombianos (COP)</option>
                <option value="PEN">Soles Peruanos (PEN)</option>
                <option value="CLP">Pesos Chilenos (CLP)</option>
                <option value="VES">Bolívares (VES)</option>
            </select>
        </div>

        <div class="form-group">
            <label>Quiero enviar (Moneda destino):</label>
            <select id="currency-receive" onchange="calculate()">
                </select>
        </div>

        <div class="form-group">
            <label>Monto a enviar:</label>
            <input type="number" id="amount" placeholder="Ingrese cantidad" oninput="calculate()">
        </div>

        <div class="conversion-result" id="result-box" style="display:none;">
            <small>El destinatario recibe:</small>
            <span class="result-amount" id="result-amount">0.00</span>
            <small id="result-currency">XXX</small>
            <br>
            <small style="color: #666; font-size: 0.8rem;">Tasa aplicada: <span id="applied-rate"></span></small>
        </div>

        <a id="wa-link" href="#" target="_blank" class="btn-whatsapp">
            Solicitar Cambio por WhatsApp
        </a>

        <div class="admin-toggle" onclick="toggleAdmin()">⚙️ Modificar Tasas (Admin)</div>
        
        <div id="admin-panel">
            <h4>Editor de Tasas</h4>
            <p style="font-size: 0.8rem; color: red; margin-bottom: 10px;">Nota: Estos cambios son temporales. Si recargas la página, volverán a los valores originales.</p>
            <div id="rates-inputs"></div>
        </div>
    </div>

    <section class="info-section">
        <div class="info-card">
            <h3>Métodos de Pago (Origen)</h3>
            <ul>
                <li><strong>Venezuela (VES):</strong> Pago Móvil, Todos los bancos.</li>
                <li><strong>Chile (CLP):</strong> Todos los bancos.</li>
                <li><strong>Perú (PEN):</strong> BCP, Yape, Transferencia Interbancaria.</li>
                <li><strong>Colombia (COP):</strong> Nequi, Bancolombia, Transfiya, Llave Bre-B.</li>
            </ul>
        </div>

        <div class="info-card">
            <h3>Cuentas Digitales (USD)</h3>
            <ul>
                <li><strong>Zelle:</strong> Mínimo 50$</li>
                <li><strong>Zinli:</strong> Mínimo 20$</li>
                <li><strong>Wally:</strong> Mínimo 20$</li>
            </ul>
        </div>

        <div class="info-card">
            <h3>Bancos Internacionales</h3>
            <ul>
                <li><strong>Panamá (Min 20$):</strong> Banco General, Mercantil, Banistmo, Banesco, Yappi.</li>
                <li><strong>Ecuador (Min 20$):</strong> Pichincha, Guayaquil, Produbanco.</li>
                <li><strong>México (Min 20$):</strong> BBVA, Citibanamex, STP, Mercado Pago.</li>
                <li><strong>Argentina (Min 20$):</strong> MercadoPago, Ualá, Brubank.</li>
            </ul>
        </div>
    </section>

    <footer>
        <p>&copy; 2024 Cambios Yireh. Todos los derechos reservados.</p>
        <p>Maracaibo, Zulia, Venezuela.</p>
    </footer>

    <script>
        // --- BASE DE DATOS DE TASAS ---
        // 'op': '*' (multiplicar) o '/' (dividir)
        // 'rate': el valor numérico
        let ratesDB = {
            USD: {
                COP: { rate: 3230, op: '*' },
                CLP: { rate: 770, op: '*' },
                PEN: { rate: 2.88, op: '*' },
                VES: { rate: 570, op: '*' },
                ARS: { rate: 1305, op: '*' },
                ECU: { rate: 0.87, op: '*', name: 'Dólar Ecuatoriano' },
                PAN: { rate: 0.85, op: '*', name: 'Dólar Panameño' },
                MEX: { rate: 15.7, op: '*' }
            },
            COP: {
                CLP: { rate: 0.214, op: '*' },
                PEN: { rate: 0.00078, op: '*' },
                VES: { rate: 5.8, op: '/' }, // DIVISIÓN
                ARS: { rate: 0.341, op: '*' },
                ECU: { rate: 0.000226, op: '*' },
                PAN: { rate: 0.000221, op: '*' },
                MEX: { rate: 0.00414, op: '*' },
                USD: { rate: 0.233, op: '*', name: 'USD (Zelle/Zinli)' }
            },
            PEN: {
                CLP: { rate: 242, op: '*' },
                COP: { rate: 960, op: '*' },
                VES: { rate: 202, op: '*' },
                ARS: { rate: 372, op: '*' },
                ECU: { rate: 0.255, op: '*' },
                PAN: { rate: 0.25, op: '*' },
                MEX: { rate: 4.6, op: '*' },
                USD: { rate: 0.262, op: '*' }
            },
            CLP: {
                PEN: { rate: 0.0033, op: '*' },
                COP: { rate: 3.6, op: '*' },
                VES: { rate: 0.76, op: '*' },
                ARS: { rate: 1.37, op: '*' },
                ECU: { rate: 0.00094, op: '*' },
                PAN: { rate: 0.00092, op: '*' },
                MEX: { rate: 0.0173, op: '*' },
                USD: { rate: 0.00095, op: '*' }
            },
            VES: {
                PEN: { rate: 283.1, op: '/' }, // DIVISIÓN
                COP: { rate: 4, op: '*' },    // MULTIPLICACIÓN
                CLP: { rate: 1, op: '/' },    // DIVISIÓN
                ARS: { rate: 0.781, op: '/' }, // DIVISIÓN
                ECU: { rate: 928, op: '/' },   // DIVISIÓN
                PAN: { rate: 935, op: '/' },   // DIVISIÓN
                MEX: { rate: 55.9, op: '/' },  // DIVISIÓN
                USD: { rate: 928, op: '/' }    // DIVISIÓN
            }
        };

        const names = {
            USD: 'Dólares (USD)',
            COP: 'Pesos Colombianos',
            PEN: 'Soles Peruanos',
            CLP: 'Pesos Chilenos',
            VES: 'Bolívares',
            ARS: 'Pesos Argentinos',
            ECU: 'Dólar Ecuatoriano',
            PAN: 'Dólar Panameño',
            MEX: 'Pesos Mexicanos'
        };

        // --- FUNCIONES LÓGICAS ---

        function updateReceivingOptions() {
            const sendCurrency = document.getElementById('currency-send').value;
            const receiveSelect = document.getElementById('currency-receive');
            
            receiveSelect.innerHTML = ''; // Limpiar opciones anteriores

            const availableDestinations = ratesDB[sendCurrency];
            
            for (let code in availableDestinations) {
                let option = document.createElement('option');
                option.value = code;
                // Usar nombre personalizado si existe en el objeto tasa, sino usar nombre genérico
                option.text = availableDestinations[code].name || names[code] || code;
                receiveSelect.add(option);
            }
            calculate();
            generateAdminInputs(); // Regenerar inputs de admin al cambiar origen
        }

        function calculate() {
            const amount = parseFloat(document.getElementById('amount').value);
            const sendCurr = document.getElementById('currency-send').value;
            const receiveCurr = document.getElementById('currency-receive').value;
            const resultBox = document.getElementById('result-box');
            
            if (!amount || amount <= 0) {
                resultBox.style.display = 'none';
                return;
            }

            const data = ratesDB[sendCurr][receiveCurr];
            let result = 0;

            if (data.op === '*') {
                result = amount * data.rate;
            } else {
                result = amount / data.rate;
            }

            // Formateo de números
            let formattedResult = result.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
            
            document.getElementById('result-amount').innerText = formattedResult;
            document.getElementById('result-currency').innerText = receiveCurr;
            document.getElementById('applied-rate').innerText = `${data.rate} (${data.op === '*' ? 'Multiplica' : 'Divide'})`;
            resultBox.style.display = 'block';

            // Actualizar enlace de WhatsApp
            const msg = `Hola Cambios Yireh, quiero cambiar ${amount} ${sendCurr} a ${receiveCurr}. Según la web recibo aprox: ${formattedResult}.`;
            document.getElementById('wa-link').href = `https://wa.me/584127769427?text=${encodeURIComponent(msg)}`;
        }

        // --- FUNCIONES DE ADMINISTRADOR ---

        function toggleAdmin() {
            const panel = document.getElementById('admin-panel');
            panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
            if(panel.style.display === 'block') generateAdminInputs();
        }

        function generateAdminInputs() {
            const container = document.getElementById('rates-inputs');
            container.innerHTML = '';
            
            // Mostrar todas las tasas existentes para editar
            // Para simplificar, mostramos las del origen seleccionado actualmente
            const currentSend = document.getElementById('currency-send').value;
            const destinations = ratesDB[currentSend];

            let title = document.createElement('h5');
            title.innerText = `Editando tasas para origen: ${currentSend}`;
            title.style.margin = "10px 0";
            container.appendChild(title);

            for (let dest in destinations) {
                let div = document.createElement('div');
                div.className = 'rate-input-group';
                
                let label = document.createElement('label');
                label.innerText = `${currentSend} ➔ ${dest} (${destinations[dest].op})`;
                label.style.marginBottom = "0";
                
                let input = document.createElement('input');
                input.type = 'number';
                input.value = destinations[dest].rate;
                input.step = "0.000001";
                input.oninput = function() {
                    updateRate(currentSend, dest, this.value);
                };

                div.appendChild(label);
                div.appendChild(input);
                container.appendChild(div);
            }
        }

        function updateRate(origin, dest, value) {
            ratesDB[origin][dest].rate = parseFloat(value);
            calculate(); // Recalcular inmediatamente con la nueva tasa
        }

        // Inicializar
        updateReceivingOptions();
    </script>
</body>
</html>
